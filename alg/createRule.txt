"запуск системы"(){
	получить ссылку на пространство "реальность"
	получить ссылку на пространство "вымысел"

	установить циклический запуск по таймеру (60 сек)
		"запуск системных правил"
		"проверка пользовательских правил"
}

"пространство" (с "именем" из вариантов [реальность, вымысел]){
	вернуть пространство с "именем"
}

"отображение классов" (){
	создать интерфейс:
		отобразить в интерфейсе все классы в форме дерева
	вернуть выбранный класс
}

"создание правила" (
с "именем правила"
объектом "исполнитель" из вариантов [система, пользователь]
объектом "субъект"
объектом "условие"
){
создать объект "правило"
	создание объекта со значением "имя правила"
	вернуть ссылку на созданный объект

создать объект "субъект-копия":
	если объект "субъект" существует
		"создание копии объекта" субъект в пространстве вымысла
		связать объект "субьект" и созданный объект
		вернуть ссылку на созданный объект
	если "субъект" не существует
		создание объекта в пространстве вымысла со значением "субъект"
		вернуть ссылку на созданный объект

создать объект "условие-копия":
	"создание копии объекта и связей" в пространстве вымысла из объекта "условие"
	вернуть ссылку на "создание копии объекта и связей"
связать объект-условие и копию объекта-условие

связать объект "правило" с объектом "исполнитель"
связать объект "правило" с объектом "субъект"
связать объект "правило" с объектом "субъект-копия"
связать объект "правило" с объектом "условие"
связать объект "правило" с объектом "условие-копия"

вернуть ссылку на объект "правило"

}

"создание объекта" (
в "пространстве" "создания"
со "значением"
)
{
создать интерфейс:
	"отображение классов" и объектов со связями в интерфейсе
	создание в интерфейсе нового "объекта"
	создание в интерфейсе связей нового "объекта" с "классами и объектами" из "пространства" "реальности" и "пространства" "вымысла"
	создание в "пространстве" "создания" объекта и связей
	вернуть ссылку созданный объект
	
}

"создание копии объекта" (
в "пространстве" "создания"
из объекта "оригинал"
){
создать интерфейс:
	отображение в интерфейсе объекта "оригинал"
	редактирование в интерфейсе объекта "оригинал"
	создание в "пространстве" "создания" объекта со связями из интерфейса
	вернуть ссылку на созданный объект
	
}

"создание копии объекта и связей"(
в "пространстве" "создания"
из объекта "оригинал"
){
создать интерфейс:
	отображение в интерфейсе объекта "оригинал" и связанных с ним "объектов" в форме дерева
	изменение в интерфейсе объекта "оригинал"
	изменение в интерфейсе "любого" объекта в цепочке связей объекта "оригинал"
	добавления в интерфейсе "нового" объекта в цепочке связей объекта "оригинал"
	создание в "пространстве" "создания" копии цепочки объектов от объекта "оригинал" до "любого" измененного объекта или "нового" добавленного объекта в цепочке связей объекта "оригинал" из интерфейса
	вернуть ссылки на [копию объекта "оригинал", копию "любого" измененного объекта или "нового" добавленного объекта]

}

"запуск системных правил"(){
	"запуск правил" объектом "система"
}

"запуск правил"(
объектом "исполнитель"
){
	"получение правил" без связи с объектом-классом "правило исполнено" с исполнителем "исполнитель"
	перебор полученных правил
		"запуск правила" текущее правило объектом "исполнитель"

}

"запуск правила" (
объекта "правило"
объектом "текущий исполнитель"
){
	получение объекта "исполнитель" из объекта "правило" (объекта, связанного с объектом "правило" и с объектом-классом правило-исполнитель)
	если объект "исполнитель" равен объекту "текущий исполнитель"
		получение связи объекта-класса "правило исполнено" и объекта "правило"
		если связь не существует
			получение объекта "условие" из объекта "правило"
			получение объекта "условие-копия" из объекта "правило"
			если полученные объекты "условие" и "условие-копия" равны
				получение объекта "субьект" из объекта "правило"
				получение объекта "субьект-копия" объекта "правило"
				если объект "субъект" существует
					изменение значения объекта "субьект" до значения объекта "субьект-копия"
				если объект "субъект" не существует
					создание объекта "субьект" со значением и связями объекта "субьект-копия"
				получение ссылки на объект-класс "правило исполнено"
				если ссылки не существует
					создать объект-класс "правило исполнено"
				связывание объекта "правило" с объектом-классом "правило исполнено"
	
}

"проверка пользовательских правил"(){
	"проверка правил" объекта-исполнителя "пользователь"
}

"проверка правил"(
объекта-исполнителя "исполнитель"
){
	"получение правил" без связи с объектом-классом "правило исполнено" с исполнителем "исполнитель"
	перебор полученных правил
		"проверка правила" текущее правило объекта-исполнителя "исполнитель"

}

"проверка правила"(
объекта "правило"
объекта-исполнителя "текущий исполнитель"
){
	получение объекта "исполнитель" из объекта "правило"
	если объект "исполнитель" равен объекту "текущий исполнитель"
		получение связи объекта-класса "правило исполнено" и объекта "правило"
		если связь не существует
			получение объекта "условие" из текущего правила
			получение объекта "условие-копия" из текущего правила
			если полученные объекты "условие" и "условие-копия" равны
				получение ссылки на объект-класс "правило неисполнено"
				если ссылки не существует
					создать объект-класс "правило неисполнено"
				связывание объекта "правило" с объектом-классом "правило неисполнено"
	
}
